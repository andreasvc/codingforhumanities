\documentclass[aspectratio=169,usenames,dvipsnames]{beamer}
\usepackage{preamble}
\title{Coding for Humanities, week 4}

\begin{document}

\begin{frame}
 \titlepage
\end{frame}

\begin{frame}{Last week}
    Dictionaries

    Functions

    Text (pre)processing
\end{frame}

\begin{frame}{Plan for today}
 \tableofcontents
\end{frame}

\section{Recap and last week's exercises}
\frame{\tableofcontents[currentsection]}

\subsection{Week 1: Arithmetic}
\begin{frame}[fragile]{Values}
    \begin{description}
        \item[Special] True, False, None
        \item[Numbers] -1, 2, 3.5, etc.
        \item[Strings] 'a', 'hello', "I'm"
    \end{description}
\end{frame}

\begin{frame}[fragile]{Variables}
    \begin{description}
        \item[Assignment] name = expression
        \item[Increment] number += 1
        \item[Expressions] number = 1 + 2 * other\_number + int('42')
    \end{description}
\end{frame}

\subsection{Week 2: Sequences, Ifs, Loops}
\begin{frame}[fragile]{Sequences}
    \begin{description}
        \item[Indexing/slicing] seq[0], seq[2:4]
        \item[Length] len(seq)
    \end{description}
\end{frame}
\begin{frame}[fragile]{Lists}
    \begin{description}
        \item[Lists in lists] the\_list[0][1]
        \item[Append] the\_list.append(item)
    \end{description}
\end{frame}
\begin{frame}[fragile]{Ifs}
    \begin{description}
        \item[Conditions] a == b, letter == 'a', number == 2
        \item[If] if condition: ...
    \end{description}
\end{frame}
\begin{frame}[fragile]{Loops}
    \begin{description}
        \item[For] for item in iterable: ...
    \end{description}
\end{frame}

\subsection{Week 3: Dictionaries and Functions}
\begin{frame}[fragile]{Dictionaries}
    \begin{description}
        \item[creation] example = {'a': 0, 'b': 1}
        \item[lookup] example['a']
    \end{description}
\end{frame}
\begin{frame}[fragile]{Functions}
    \begin{description}
        \item[Defining] def name(param1, ...): ...
        \item[Calling] name(arg1, ...)
        \item[Return value] return
    \end{description}
\end{frame}
\begin{frame}[fragile]{extract\_dialogue}
\begin{columns}
\column{0.5\linewidth}
Split paragraphs
\begin{lstlisting}
with open(filename) as infile:
    text = infile.read()
paragraphs = text.split('\n\n')
\end{lstlisting}
\pause
Loop over paragraphs
\begin{lstlisting}
result = {}
for para in paragraphs:
\end{lstlisting}

\column{0.5\linewidth}
\pause
Identify lines with dialogue
\begin{lstlisting}
    first_token = para.split()[0]
    if first_token.endswith('.'):
\end{lstlisting}
\pause Split name and line
\begin{lstlisting}
        name, line = para.split('.', 1)
        # remove leading/trailing spaces
        name = name.strip()
\end{lstlisting}
Store
\begin{lstlisting}
        if name not in result:
            result[name] = []
        result[name].append(line)
\end{lstlisting}
\end{columns}
\end{frame}



% list comprehensions!


\section{Working with files}
\frame{\tableofcontents[currentsection]}

\begin{frame}{Motivation}
    To do anything non-trivial,

    programs need to work on \structure{arbitrary data}

    \pause
    Therefore, need to learn how to \structure{read} external data from disk as input,

    and \structure{write} results as output

\end{frame}


\begin{frame}{Files and directories}
    \begin{itemize}
        \item Data is stored in \structure{files} as a sequence of bytes
        \item Files are part of \structure{directories} (folders)
        \item Directories may contain files and other directories. Ergo:
            \begin{itemize}
                \item The file system is a tree structure.
                \item The location of a file is a path through this tree.
            \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}{Paths}
    \begin{itemize}
        \item A path describes the location of a file
        \item In the simplest case, just the filename is enough to
            refer to a file in the same directory as your program:

            \texttt{example.txt}
        \item If a file is somewhere else, need to include directories:

            \texttt{corpus/example.txt}
    \end{itemize}
\end{frame}

\begin{frame}{Why directories}
    % Motivate organization
    \begin{itemize}
        \item Directories are useful to organize your files
        \item Use sensible names
        \item Separate code, data, results
    \end{itemize}

    Learn to use your system's file manager (Finder, Explorer, etc.)
\end{frame}



\section{Importing modules}
\frame{\tableofcontents[currentsection]}

\begin{frame}[fragile]{Importing modules}
\begin{lstlisting}
import <module>
from <module> import <function>
\end{lstlisting}
\end{frame}

\begin{frame}[fragile]{The Python standard library}
    See \url{https://docs.python.org/3/library/index.html}
\end{frame}

\begin{frame}[fragile]{Finding files}
    \begin{itemize}
        \item The term ``globbing'' means ``matching a set of files with a pattern.''
        \item The most common patterns are:
            \begin{itemize}
                \item \texttt{*} meaning ``match zero or more characters''
                \item \texttt{?} meaning ``match exactly one character''
            \end{itemize}
        \item Python contains the glob library to provide pattern matching functionality
        \item The glob library contains a function also called glob to match
            file patterns
        \item e.g., \texttt{glob.glob('*.txt')} matches all files in the
            current directory whose names end with .txt.
        \item Result is a (possibly empty) list of strings.
    \end{itemize}
\end{frame}

% Counter

\begin{frame}[fragile]{The data science ecosystem}
    \begin{description}
        \item[Spacy] industrial-strength Natural Language Processing (NLP)
        \item[NLTK] "educational-strength" NLP ...
        \item[Matplotlib] low-level plots/visualization
        \item[Seaborn] easier plot interface
        \item[Pandas] work with tabular data
        \item[Scikit-learn] Machine learning: classification, clustering
        \item[gensim] Topic modeling (LDA).
    \end{description}
\end{frame}

\begin{frame}{Installing packages}
    \begin{itemize}
        \item Most of these are part of Anaconda distribution (already installed!)
        \item Install conda packages with Anaconda Navigator (Spacy, gensim)

            \url{https://docs.anaconda.com/anaconda/navigator/getting-started/#navigator-managing-packages}

        \item Install other packages with pip (more advanced)

            \url{https://www.puzzlr.org/install-packages-pip-conda-environment/}
    \end{itemize}
\end{frame}


\begin{frame}{Summary}
    \begin{itemize}
        \item Standard library
        \item Data science ecosystem
    \end{itemize}
\end{frame}

\end{document}
